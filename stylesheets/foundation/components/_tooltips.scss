//
// Tooltip Variables
//
$has-tip-border-bottom: dotted 1px #ccc !default;
$has-tip-font-weight: bold !default;
$has-tip-font-color: #333 !default;
$has-tip-border-bottom-hover: dotted 1px darken($primary-color, 20%) !default;
$has-tip-font-color-hover: $primary-color !default;
$has-tip-cursor-type: help !default;

$tooltip-padding: emCalc(8px) !default;
$tooltip-bg: #000 !default;
$tooltip-font-size: emCalc(15px) !default;
$tooltip-font-weight: bold !default;
$tooltip-font-color: #fff !default;
$tooltip-font-color-alt: #333 !default;
$tooltip-line-height: 1.3 !default;
$tooltip-close-font-size: emCalc(10px) !default;
$tooltip-close-font-weight: normal !default;
$tooltip-close-font-color: #888 !default;
$tooltip-font-size-sml: emCalc(14px) !default;
$tooltip-radius: $global-radius !default;
$tooltip-pip-size: 5px !default;


//
// Tooltip Mixins
//

// We use this mixin to create the style for elements that have a tip associated with them.
@mixin has-tip($hover-color:$has-tip-font-color-hover) {
  border-bottom: $has-tip-border-bottom;
  cursor: $has-tip-cursor-type;
  font-weight: $has-tip-font-weight;
  color: $has-tip-font-color;

  &:hover,
  &:focus {
    border-bottom: $has-tip-border-bottom-hover;
    color: $hover-color;
  }

  &.tip-left,
  &.tip-right { float: none !important; }
}

// We use this mixin to create the tooltips themselves.
@mixin tooltip($bg:$tooltip-bg, $padding:$tooltip-padding, $pip-size:$tooltip-pip-size, $font-size:$tooltip-font-size) {

  display: none;
  position: absolute;
  z-index: 999;
  font-weight: $tooltip-font-weight;
  font-size: $font-size;
  line-height: $tooltip-line-height;
  padding: $padding;
  max-width: 85%;
  left: 50%;
  width: 100%;

  // We use this to control the background color and set the font color depending on its lightness
  $bg-lightness: lightness($bg);

  background: $bg;
  @if $bg-lightness < 60% { color: $tooltip-font-color; }
  @else {                   color: $tooltip-font-color-alt; }

  // Creating all the HTML classes for the nub positions.
  &>.nub {
    display: block;
    width: 0;
    height: 0;
    border: solid $pip-size;
    border-color: transparent transparent $bg transparent;
    position: absolute;
    top: -($pip-size * 2);
    // #{$default-float}: $pip-size * 2;
  }
  &.tip-override>.nub {
    border-color: transparent transparent $bg transparent !important;
    top: -($pip-size * 2) !important;
  }
  &.tip-top>.nub {
    border-color: $bg transparent transparent transparent;
    top: auto;
    bottom: -($pip-size * 2);
  }

  &.tip-left,
  &.tip-right { float: none !important; }

  &.tip-left>.nub {
    border-color: transparent transparent transparent $bg;
    // right: -($pip-size * 2);
    // left: auto;
  }
  &.tip-right>.nub {
    border-color: transparent $bg transparent transparent;
    // right: auto;
    // left: -($pip-size * 2);
  }

  &.opened {
    color: $has-tip-font-color-hover !important;
    border-bottom: $has-tip-border-bottom-hover !important;
  }

}

// We use this to create the tap-to-close button for mobile
@mixin tap-to-close() {
  display: block;
  font-size: $tooltip-close-font-size;
  color: $tooltip-close-font-color;
  font-weight: $tooltip-close-font-weight;
}


/* Tooltips */
@media screen {

  .has-tip { @include has-tip; }

  .tooltip {
    @include tooltip;

    &.radius{ @include radius($tooltip-radius); }
  }

  .tap-to-close { @include tap-to-close; }

}
  // .tooltip {
  //   font-size: $tooltip-font-size-sml;
  //   line-height: 1.4;
  //   padding: emCalc(7px) emCalc(10px) emCalc(9px) emCalc(10px);
  //   #{$default-float}: 50% !important;
  //   max-width: 80% !important;
  //   margin-#{$default-float}: -40%;
  //   font-size: 110%;
  // }
  // .tooltip > .nub, .tooltip.top > .nub, .tooltip.left > .nub, .tooltip.right > .nub {
  //   border-color: transparent transparent $tooltip-bg transparent;
  //   border-color: transparent transparent rgba($tooltip-bg,$tooltip-opacity) transparent;
  //   top: -12px;
  //   #{$default-float}: 10px;
  // }

